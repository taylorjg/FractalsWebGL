{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://fractalswebgl/./node_modules/colormap/colorScale.js","webpack://fractalswebgl/./node_modules/colormap/index.js","webpack://fractalswebgl/./node_modules/lerp/index.js","webpack://fractalswebgl/./node_modules/promise-worker/index.js","webpack://fractalswebgl/webpack/bootstrap","webpack://fractalswebgl/webpack/runtime/compat get default export","webpack://fractalswebgl/webpack/runtime/define property getters","webpack://fractalswebgl/webpack/runtime/get javascript chunk filename","webpack://fractalswebgl/webpack/runtime/global","webpack://fractalswebgl/webpack/runtime/hasOwnProperty shorthand","webpack://fractalswebgl/webpack/runtime/publicPath","webpack://fractalswebgl/webpack/runtime/jsonp chunk loading","webpack://fractalswebgl/./node_modules/gl-matrix/esm/common.js","webpack://fractalswebgl/./node_modules/gl-matrix/esm/mat4.js","webpack://fractalswebgl/./src/js/constants.js","webpack://fractalswebgl/./src/js/ui.js","webpack://fractalswebgl/./src/js/utils.js","webpack://fractalswebgl/./src/js/graphics.js","webpack://fractalswebgl/./src/js/region.js","webpack://fractalswebgl/./src/js/index.js"],"sourcesContent":["module.exports={\n\t\"jet\":[{\"index\":0,\"rgb\":[0,0,131]},{\"index\":0.125,\"rgb\":[0,60,170]},{\"index\":0.375,\"rgb\":[5,255,255]},{\"index\":0.625,\"rgb\":[255,255,0]},{\"index\":0.875,\"rgb\":[250,0,0]},{\"index\":1,\"rgb\":[128,0,0]}],\n\n\t\"hsv\":[{\"index\":0,\"rgb\":[255,0,0]},{\"index\":0.169,\"rgb\":[253,255,2]},{\"index\":0.173,\"rgb\":[247,255,2]},{\"index\":0.337,\"rgb\":[0,252,4]},{\"index\":0.341,\"rgb\":[0,252,10]},{\"index\":0.506,\"rgb\":[1,249,255]},{\"index\":0.671,\"rgb\":[2,0,253]},{\"index\":0.675,\"rgb\":[8,0,253]},{\"index\":0.839,\"rgb\":[255,0,251]},{\"index\":0.843,\"rgb\":[255,0,245]},{\"index\":1,\"rgb\":[255,0,6]}],\n\n\t\"hot\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.3,\"rgb\":[230,0,0]},{\"index\":0.6,\"rgb\":[255,210,0]},{\"index\":1,\"rgb\":[255,255,255]}],\n\n\t\"spring\":[{\"index\":0,\"rgb\":[255,0,255]},{\"index\":1,\"rgb\":[255,255,0]}],\n\n\t\"summer\":[{\"index\":0,\"rgb\":[0,128,102]},{\"index\":1,\"rgb\":[255,255,102]}],\n\n\t\"autumn\":[{\"index\":0,\"rgb\":[255,0,0]},{\"index\":1,\"rgb\":[255,255,0]}],\n\n\t\"winter\":[{\"index\":0,\"rgb\":[0,0,255]},{\"index\":1,\"rgb\":[0,255,128]}],\n\n\t\"bone\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.376,\"rgb\":[84,84,116]},{\"index\":0.753,\"rgb\":[169,200,200]},{\"index\":1,\"rgb\":[255,255,255]}],\n\n\t\"copper\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.804,\"rgb\":[255,160,102]},{\"index\":1,\"rgb\":[255,199,127]}],\n\n\t\"greys\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":1,\"rgb\":[255,255,255]}],\n\n\t\"yignbu\":[{\"index\":0,\"rgb\":[8,29,88]},{\"index\":0.125,\"rgb\":[37,52,148]},{\"index\":0.25,\"rgb\":[34,94,168]},{\"index\":0.375,\"rgb\":[29,145,192]},{\"index\":0.5,\"rgb\":[65,182,196]},{\"index\":0.625,\"rgb\":[127,205,187]},{\"index\":0.75,\"rgb\":[199,233,180]},{\"index\":0.875,\"rgb\":[237,248,217]},{\"index\":1,\"rgb\":[255,255,217]}],\n\n\t\"greens\":[{\"index\":0,\"rgb\":[0,68,27]},{\"index\":0.125,\"rgb\":[0,109,44]},{\"index\":0.25,\"rgb\":[35,139,69]},{\"index\":0.375,\"rgb\":[65,171,93]},{\"index\":0.5,\"rgb\":[116,196,118]},{\"index\":0.625,\"rgb\":[161,217,155]},{\"index\":0.75,\"rgb\":[199,233,192]},{\"index\":0.875,\"rgb\":[229,245,224]},{\"index\":1,\"rgb\":[247,252,245]}],\n\n\t\"yiorrd\":[{\"index\":0,\"rgb\":[128,0,38]},{\"index\":0.125,\"rgb\":[189,0,38]},{\"index\":0.25,\"rgb\":[227,26,28]},{\"index\":0.375,\"rgb\":[252,78,42]},{\"index\":0.5,\"rgb\":[253,141,60]},{\"index\":0.625,\"rgb\":[254,178,76]},{\"index\":0.75,\"rgb\":[254,217,118]},{\"index\":0.875,\"rgb\":[255,237,160]},{\"index\":1,\"rgb\":[255,255,204]}],\n\n\t\"bluered\":[{\"index\":0,\"rgb\":[0,0,255]},{\"index\":1,\"rgb\":[255,0,0]}],\n\n\t\"rdbu\":[{\"index\":0,\"rgb\":[5,10,172]},{\"index\":0.35,\"rgb\":[106,137,247]},{\"index\":0.5,\"rgb\":[190,190,190]},{\"index\":0.6,\"rgb\":[220,170,132]},{\"index\":0.7,\"rgb\":[230,145,90]},{\"index\":1,\"rgb\":[178,10,28]}],\n\n\t\"picnic\":[{\"index\":0,\"rgb\":[0,0,255]},{\"index\":0.1,\"rgb\":[51,153,255]},{\"index\":0.2,\"rgb\":[102,204,255]},{\"index\":0.3,\"rgb\":[153,204,255]},{\"index\":0.4,\"rgb\":[204,204,255]},{\"index\":0.5,\"rgb\":[255,255,255]},{\"index\":0.6,\"rgb\":[255,204,255]},{\"index\":0.7,\"rgb\":[255,153,255]},{\"index\":0.8,\"rgb\":[255,102,204]},{\"index\":0.9,\"rgb\":[255,102,102]},{\"index\":1,\"rgb\":[255,0,0]}],\n\n\t\"rainbow\":[{\"index\":0,\"rgb\":[150,0,90]},{\"index\":0.125,\"rgb\":[0,0,200]},{\"index\":0.25,\"rgb\":[0,25,255]},{\"index\":0.375,\"rgb\":[0,152,255]},{\"index\":0.5,\"rgb\":[44,255,150]},{\"index\":0.625,\"rgb\":[151,255,0]},{\"index\":0.75,\"rgb\":[255,234,0]},{\"index\":0.875,\"rgb\":[255,111,0]},{\"index\":1,\"rgb\":[255,0,0]}],\n\n\t\"portland\":[{\"index\":0,\"rgb\":[12,51,131]},{\"index\":0.25,\"rgb\":[10,136,186]},{\"index\":0.5,\"rgb\":[242,211,56]},{\"index\":0.75,\"rgb\":[242,143,56]},{\"index\":1,\"rgb\":[217,30,30]}],\n\n\t\"blackbody\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.2,\"rgb\":[230,0,0]},{\"index\":0.4,\"rgb\":[230,210,0]},{\"index\":0.7,\"rgb\":[255,255,255]},{\"index\":1,\"rgb\":[160,200,255]}],\n\n\t\"earth\":[{\"index\":0,\"rgb\":[0,0,130]},{\"index\":0.1,\"rgb\":[0,180,180]},{\"index\":0.2,\"rgb\":[40,210,40]},{\"index\":0.4,\"rgb\":[230,230,50]},{\"index\":0.6,\"rgb\":[120,70,20]},{\"index\":1,\"rgb\":[255,255,255]}],\n\n\t\"electric\":[{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.15,\"rgb\":[30,0,100]},{\"index\":0.4,\"rgb\":[120,0,100]},{\"index\":0.6,\"rgb\":[160,90,0]},{\"index\":0.8,\"rgb\":[230,200,0]},{\"index\":1,\"rgb\":[255,250,220]}],\n\n\t\"alpha\": [{\"index\":0, \"rgb\": [255,255,255,0]},{\"index\":1, \"rgb\": [255,255,255,1]}],\n\n\t\"viridis\": [{\"index\":0,\"rgb\":[68,1,84]},{\"index\":0.13,\"rgb\":[71,44,122]},{\"index\":0.25,\"rgb\":[59,81,139]},{\"index\":0.38,\"rgb\":[44,113,142]},{\"index\":0.5,\"rgb\":[33,144,141]},{\"index\":0.63,\"rgb\":[39,173,129]},{\"index\":0.75,\"rgb\":[92,200,99]},{\"index\":0.88,\"rgb\":[170,220,50]},{\"index\":1,\"rgb\":[253,231,37]}],\n\n\t\"inferno\": [{\"index\":0,\"rgb\":[0,0,4]},{\"index\":0.13,\"rgb\":[31,12,72]},{\"index\":0.25,\"rgb\":[85,15,109]},{\"index\":0.38,\"rgb\":[136,34,106]},{\"index\":0.5,\"rgb\":[186,54,85]},{\"index\":0.63,\"rgb\":[227,89,51]},{\"index\":0.75,\"rgb\":[249,140,10]},{\"index\":0.88,\"rgb\":[249,201,50]},{\"index\":1,\"rgb\":[252,255,164]}],\n\n\t\"magma\": [{\"index\":0,\"rgb\":[0,0,4]},{\"index\":0.13,\"rgb\":[28,16,68]},{\"index\":0.25,\"rgb\":[79,18,123]},{\"index\":0.38,\"rgb\":[129,37,129]},{\"index\":0.5,\"rgb\":[181,54,122]},{\"index\":0.63,\"rgb\":[229,80,100]},{\"index\":0.75,\"rgb\":[251,135,97]},{\"index\":0.88,\"rgb\":[254,194,135]},{\"index\":1,\"rgb\":[252,253,191]}],\n\n\t\"plasma\": [{\"index\":0,\"rgb\":[13,8,135]},{\"index\":0.13,\"rgb\":[75,3,161]},{\"index\":0.25,\"rgb\":[125,3,168]},{\"index\":0.38,\"rgb\":[168,34,150]},{\"index\":0.5,\"rgb\":[203,70,121]},{\"index\":0.63,\"rgb\":[229,107,93]},{\"index\":0.75,\"rgb\":[248,148,65]},{\"index\":0.88,\"rgb\":[253,195,40]},{\"index\":1,\"rgb\":[240,249,33]}],\n\n\t\"warm\": [{\"index\":0,\"rgb\":[125,0,179]},{\"index\":0.13,\"rgb\":[172,0,187]},{\"index\":0.25,\"rgb\":[219,0,170]},{\"index\":0.38,\"rgb\":[255,0,130]},{\"index\":0.5,\"rgb\":[255,63,74]},{\"index\":0.63,\"rgb\":[255,123,0]},{\"index\":0.75,\"rgb\":[234,176,0]},{\"index\":0.88,\"rgb\":[190,228,0]},{\"index\":1,\"rgb\":[147,255,0]}],\n\n\t\"cool\": [{\"index\":0,\"rgb\":[125,0,179]},{\"index\":0.13,\"rgb\":[116,0,218]},{\"index\":0.25,\"rgb\":[98,74,237]},{\"index\":0.38,\"rgb\":[68,146,231]},{\"index\":0.5,\"rgb\":[0,204,197]},{\"index\":0.63,\"rgb\":[0,247,146]},{\"index\":0.75,\"rgb\":[0,255,88]},{\"index\":0.88,\"rgb\":[40,255,8]},{\"index\":1,\"rgb\":[147,255,0]}],\n\n\t\"rainbow-soft\": [{\"index\":0,\"rgb\":[125,0,179]},{\"index\":0.1,\"rgb\":[199,0,180]},{\"index\":0.2,\"rgb\":[255,0,121]},{\"index\":0.3,\"rgb\":[255,108,0]},{\"index\":0.4,\"rgb\":[222,194,0]},{\"index\":0.5,\"rgb\":[150,255,0]},{\"index\":0.6,\"rgb\":[0,255,55]},{\"index\":0.7,\"rgb\":[0,246,150]},{\"index\":0.8,\"rgb\":[50,167,222]},{\"index\":0.9,\"rgb\":[103,51,235]},{\"index\":1,\"rgb\":[124,0,186]}],\n\n\t\"bathymetry\": [{\"index\":0,\"rgb\":[40,26,44]},{\"index\":0.13,\"rgb\":[59,49,90]},{\"index\":0.25,\"rgb\":[64,76,139]},{\"index\":0.38,\"rgb\":[63,110,151]},{\"index\":0.5,\"rgb\":[72,142,158]},{\"index\":0.63,\"rgb\":[85,174,163]},{\"index\":0.75,\"rgb\":[120,206,163]},{\"index\":0.88,\"rgb\":[187,230,172]},{\"index\":1,\"rgb\":[253,254,204]}],\n\n\t\"cdom\": [{\"index\":0,\"rgb\":[47,15,62]},{\"index\":0.13,\"rgb\":[87,23,86]},{\"index\":0.25,\"rgb\":[130,28,99]},{\"index\":0.38,\"rgb\":[171,41,96]},{\"index\":0.5,\"rgb\":[206,67,86]},{\"index\":0.63,\"rgb\":[230,106,84]},{\"index\":0.75,\"rgb\":[242,149,103]},{\"index\":0.88,\"rgb\":[249,193,135]},{\"index\":1,\"rgb\":[254,237,176]}],\n\n\t\"chlorophyll\": [{\"index\":0,\"rgb\":[18,36,20]},{\"index\":0.13,\"rgb\":[25,63,41]},{\"index\":0.25,\"rgb\":[24,91,59]},{\"index\":0.38,\"rgb\":[13,119,72]},{\"index\":0.5,\"rgb\":[18,148,80]},{\"index\":0.63,\"rgb\":[80,173,89]},{\"index\":0.75,\"rgb\":[132,196,122]},{\"index\":0.88,\"rgb\":[175,221,162]},{\"index\":1,\"rgb\":[215,249,208]}],\n\n\t\"density\": [{\"index\":0,\"rgb\":[54,14,36]},{\"index\":0.13,\"rgb\":[89,23,80]},{\"index\":0.25,\"rgb\":[110,45,132]},{\"index\":0.38,\"rgb\":[120,77,178]},{\"index\":0.5,\"rgb\":[120,113,213]},{\"index\":0.63,\"rgb\":[115,151,228]},{\"index\":0.75,\"rgb\":[134,185,227]},{\"index\":0.88,\"rgb\":[177,214,227]},{\"index\":1,\"rgb\":[230,241,241]}],\n\n\t\"freesurface-blue\": [{\"index\":0,\"rgb\":[30,4,110]},{\"index\":0.13,\"rgb\":[47,14,176]},{\"index\":0.25,\"rgb\":[41,45,236]},{\"index\":0.38,\"rgb\":[25,99,212]},{\"index\":0.5,\"rgb\":[68,131,200]},{\"index\":0.63,\"rgb\":[114,156,197]},{\"index\":0.75,\"rgb\":[157,181,203]},{\"index\":0.88,\"rgb\":[200,208,216]},{\"index\":1,\"rgb\":[241,237,236]}],\n\n\t\"freesurface-red\": [{\"index\":0,\"rgb\":[60,9,18]},{\"index\":0.13,\"rgb\":[100,17,27]},{\"index\":0.25,\"rgb\":[142,20,29]},{\"index\":0.38,\"rgb\":[177,43,27]},{\"index\":0.5,\"rgb\":[192,87,63]},{\"index\":0.63,\"rgb\":[205,125,105]},{\"index\":0.75,\"rgb\":[216,162,148]},{\"index\":0.88,\"rgb\":[227,199,193]},{\"index\":1,\"rgb\":[241,237,236]}],\n\n\t\"oxygen\": [{\"index\":0,\"rgb\":[64,5,5]},{\"index\":0.13,\"rgb\":[106,6,15]},{\"index\":0.25,\"rgb\":[144,26,7]},{\"index\":0.38,\"rgb\":[168,64,3]},{\"index\":0.5,\"rgb\":[188,100,4]},{\"index\":0.63,\"rgb\":[206,136,11]},{\"index\":0.75,\"rgb\":[220,174,25]},{\"index\":0.88,\"rgb\":[231,215,44]},{\"index\":1,\"rgb\":[248,254,105]}],\n\n\t\"par\": [{\"index\":0,\"rgb\":[51,20,24]},{\"index\":0.13,\"rgb\":[90,32,35]},{\"index\":0.25,\"rgb\":[129,44,34]},{\"index\":0.38,\"rgb\":[159,68,25]},{\"index\":0.5,\"rgb\":[182,99,19]},{\"index\":0.63,\"rgb\":[199,134,22]},{\"index\":0.75,\"rgb\":[212,171,35]},{\"index\":0.88,\"rgb\":[221,210,54]},{\"index\":1,\"rgb\":[225,253,75]}],\n\n\t\"phase\": [{\"index\":0,\"rgb\":[145,105,18]},{\"index\":0.13,\"rgb\":[184,71,38]},{\"index\":0.25,\"rgb\":[186,58,115]},{\"index\":0.38,\"rgb\":[160,71,185]},{\"index\":0.5,\"rgb\":[110,97,218]},{\"index\":0.63,\"rgb\":[50,123,164]},{\"index\":0.75,\"rgb\":[31,131,110]},{\"index\":0.88,\"rgb\":[77,129,34]},{\"index\":1,\"rgb\":[145,105,18]}],\n\n\t\"salinity\": [{\"index\":0,\"rgb\":[42,24,108]},{\"index\":0.13,\"rgb\":[33,50,162]},{\"index\":0.25,\"rgb\":[15,90,145]},{\"index\":0.38,\"rgb\":[40,118,137]},{\"index\":0.5,\"rgb\":[59,146,135]},{\"index\":0.63,\"rgb\":[79,175,126]},{\"index\":0.75,\"rgb\":[120,203,104]},{\"index\":0.88,\"rgb\":[193,221,100]},{\"index\":1,\"rgb\":[253,239,154]}],\n\n\t\"temperature\": [{\"index\":0,\"rgb\":[4,35,51]},{\"index\":0.13,\"rgb\":[23,51,122]},{\"index\":0.25,\"rgb\":[85,59,157]},{\"index\":0.38,\"rgb\":[129,79,143]},{\"index\":0.5,\"rgb\":[175,95,130]},{\"index\":0.63,\"rgb\":[222,112,101]},{\"index\":0.75,\"rgb\":[249,146,66]},{\"index\":0.88,\"rgb\":[249,196,65]},{\"index\":1,\"rgb\":[232,250,91]}],\n\n\t\"turbidity\": [{\"index\":0,\"rgb\":[34,31,27]},{\"index\":0.13,\"rgb\":[65,50,41]},{\"index\":0.25,\"rgb\":[98,69,52]},{\"index\":0.38,\"rgb\":[131,89,57]},{\"index\":0.5,\"rgb\":[161,112,59]},{\"index\":0.63,\"rgb\":[185,140,66]},{\"index\":0.75,\"rgb\":[202,174,88]},{\"index\":0.88,\"rgb\":[216,209,126]},{\"index\":1,\"rgb\":[233,246,171]}],\n\n\t\"velocity-blue\": [{\"index\":0,\"rgb\":[17,32,64]},{\"index\":0.13,\"rgb\":[35,52,116]},{\"index\":0.25,\"rgb\":[29,81,156]},{\"index\":0.38,\"rgb\":[31,113,162]},{\"index\":0.5,\"rgb\":[50,144,169]},{\"index\":0.63,\"rgb\":[87,173,176]},{\"index\":0.75,\"rgb\":[149,196,189]},{\"index\":0.88,\"rgb\":[203,221,211]},{\"index\":1,\"rgb\":[254,251,230]}],\n\n\t\"velocity-green\": [{\"index\":0,\"rgb\":[23,35,19]},{\"index\":0.13,\"rgb\":[24,64,38]},{\"index\":0.25,\"rgb\":[11,95,45]},{\"index\":0.38,\"rgb\":[39,123,35]},{\"index\":0.5,\"rgb\":[95,146,12]},{\"index\":0.63,\"rgb\":[152,165,18]},{\"index\":0.75,\"rgb\":[201,186,69]},{\"index\":0.88,\"rgb\":[233,216,137]},{\"index\":1,\"rgb\":[255,253,205]}],\n\n\t\"cubehelix\": [{\"index\":0,\"rgb\":[0,0,0]},{\"index\":0.07,\"rgb\":[22,5,59]},{\"index\":0.13,\"rgb\":[60,4,105]},{\"index\":0.2,\"rgb\":[109,1,135]},{\"index\":0.27,\"rgb\":[161,0,147]},{\"index\":0.33,\"rgb\":[210,2,142]},{\"index\":0.4,\"rgb\":[251,11,123]},{\"index\":0.47,\"rgb\":[255,29,97]},{\"index\":0.53,\"rgb\":[255,54,69]},{\"index\":0.6,\"rgb\":[255,85,46]},{\"index\":0.67,\"rgb\":[255,120,34]},{\"index\":0.73,\"rgb\":[255,157,37]},{\"index\":0.8,\"rgb\":[241,191,57]},{\"index\":0.87,\"rgb\":[224,220,93]},{\"index\":0.93,\"rgb\":[218,241,142]},{\"index\":1,\"rgb\":[227,253,198]}]\n};\n","/*\n * Ben Postlethwaite\n * January 2013\n * License MIT\n */\n'use strict';\n\nvar colorScale = require('./colorScale');\nvar lerp = require('lerp')\n\nmodule.exports = createColormap;\n\nfunction createColormap (spec) {\n    /*\n     * Default Options\n     */\n    var indicies, fromrgba, torgba,\n        nsteps, cmap, colormap, format,\n        nshades, colors, alpha, i;\n\n    if ( !spec ) spec = {};\n\n    nshades = (spec.nshades || 72) - 1;\n    format = spec.format || 'hex';\n\n    colormap = spec.colormap;\n    if (!colormap) colormap = 'jet';\n\n    if (typeof colormap === 'string') {\n        colormap = colormap.toLowerCase();\n\n        if (!colorScale[colormap]) {\n            throw Error(colormap + ' not a supported colorscale');\n        }\n\n        cmap = colorScale[colormap];\n\n    } else if (Array.isArray(colormap)) {\n        cmap = colormap.slice();\n\n    } else {\n        throw Error('unsupported colormap option', colormap);\n    }\n\n    if (cmap.length > nshades + 1) {\n        throw new Error(\n            colormap+' map requires nshades to be at least size '+cmap.length\n        );\n    }\n\n    if (!Array.isArray(spec.alpha)) {\n\n        if (typeof spec.alpha === 'number') {\n            alpha = [spec.alpha, spec.alpha];\n\n        } else {\n            alpha = [1, 1];\n        }\n\n    } else if (spec.alpha.length !== 2) {\n        alpha = [1, 1];\n\n    } else {\n        alpha = spec.alpha.slice();\n    }\n\n    // map index points from 0..1 to 0..n-1\n    indicies = cmap.map(function(c) {\n        return Math.round(c.index * nshades);\n    });\n\n    // Add alpha channel to the map\n    alpha[0] = Math.min(Math.max(alpha[0], 0), 1);\n    alpha[1] = Math.min(Math.max(alpha[1], 0), 1);\n\n    var steps = cmap.map(function(c, i) {\n        var index = cmap[i].index\n\n        var rgba = cmap[i].rgb.slice();\n\n        // if user supplies their own map use it\n        if (rgba.length === 4 && rgba[3] >= 0 && rgba[3] <= 1) {\n            return rgba\n        }\n        rgba[3] = alpha[0] + (alpha[1] - alpha[0])*index;\n\n        return rgba\n    })\n\n\n    /*\n     * map increasing linear values between indicies to\n     * linear steps in colorvalues\n     */\n    var colors = []\n    for (i = 0; i < indicies.length-1; ++i) {\n        nsteps = indicies[i+1] - indicies[i];\n        fromrgba = steps[i];\n        torgba = steps[i+1];\n\n        for (var j = 0; j < nsteps; j++) {\n            var amt = j / nsteps\n            colors.push([\n                Math.round(lerp(fromrgba[0], torgba[0], amt)),\n                Math.round(lerp(fromrgba[1], torgba[1], amt)),\n                Math.round(lerp(fromrgba[2], torgba[2], amt)),\n                lerp(fromrgba[3], torgba[3], amt)\n            ])\n        }\n    }\n\n    //add 1 step as last value\n    colors.push(cmap[cmap.length - 1].rgb.concat(alpha[1]))\n\n    if (format === 'hex') colors = colors.map( rgb2hex );\n    else if (format === 'rgbaString') colors = colors.map( rgbaStr );\n    else if (format === 'float') colors = colors.map( rgb2float );\n\n    return colors;\n};\n\nfunction rgb2float (rgba) {\n    return [\n        rgba[0] / 255,\n        rgba[1] / 255,\n        rgba[2] / 255,\n        rgba[3]\n    ]\n}\n\nfunction rgb2hex (rgba) {\n    var dig, hex = '#';\n    for (var i = 0; i < 3; ++i) {\n        dig = rgba[i];\n        dig = dig.toString(16);\n        hex += ('00' + dig).substr( dig.length );\n    }\n    return hex;\n}\n\nfunction rgbaStr (rgba) {\n    return 'rgba(' + rgba.join(',') + ')';\n}\n","function lerp(v0, v1, t) {\n    return v0*(1-t)+v1*t\n}\nmodule.exports = lerp","'use strict'\n\nvar messageIds = 0\n\nfunction onMessage (self, e) {\n  var message = e.data\n  if (!Array.isArray(message) || message.length < 2) {\n    // Ignore - this message is not for us.\n    return\n  }\n  var messageId = message[0]\n  var error = message[1]\n  var result = message[2]\n\n  var callback = self._callbacks[messageId]\n\n  if (!callback) {\n    // Ignore - user might have created multiple PromiseWorkers.\n    // This message is not for us.\n    return\n  }\n\n  delete self._callbacks[messageId]\n  callback(error, result)\n}\n\nfunction PromiseWorker (worker) {\n  var self = this\n  self._worker = worker\n  self._callbacks = {}\n\n  worker.addEventListener('message', function (e) {\n    onMessage(self, e)\n  })\n}\n\nPromiseWorker.prototype.postMessage = function (userMessage) {\n  var self = this\n  var messageId = messageIds++\n\n  var messageToSend = [messageId, userMessage]\n\n  return new Promise(function (resolve, reject) {\n    self._callbacks[messageId] = function (error, result) {\n      if (error) {\n        return reject(new Error(error.message))\n      }\n      resolve(result)\n    }\n\n    /* istanbul ignore if */\n    if (typeof self._worker.controller !== 'undefined') {\n      // service worker, use MessageChannels because e.source is broken in Chrome < 51:\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=543198\n      var channel = new MessageChannel()\n      channel.port1.onmessage = function (e) {\n        onMessage(self, e)\n      }\n      self._worker.controller.postMessage(messageToSend, [channel.port2])\n    } else {\n      // web worker\n      self._worker.postMessage(messageToSend)\n    }\n  })\n}\n\nmodule.exports = PromiseWorker\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t296: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","export const INITIAL_ITERATIONS = 128;\nexport const MIN_ITERATIONS = 16;\nexport const MAX_ITERATIONS_MANUAL = 4096;\nexport const MAX_ITERATIONS_AUTO = 256;\nexport const DELTA_ITERATIONS = 16;\nexport const FRACTAL_SET_ID_MANDELBROT = 0;\nexport const FRACTAL_SET_ID_JULIA = 1;\n\nexport const COLOUR_MAP_NAMES = [\n  \"jet\",\n  \"hsv\",\n  \"hot\",\n  \"cool\",\n  \"warm\",\n  \"spring\",\n  \"summer\",\n  \"autumn\",\n  \"winter\",\n  \"bone\",\n  \"copper\",\n  \"greys\",\n  \"YIOrRd\",\n  \"bluered\",\n  \"RdBu\",\n  \"picnic\",\n  \"rainbow\",\n  \"portland\",\n  \"blackbody\",\n  \"earth\",\n  \"electric\",\n  \"viridis\",\n  \"inferno\",\n  \"magma\",\n  \"plasma\",\n  \"rainbow-soft\",\n  \"bathymetry\",\n  \"cdom\",\n  \"chlorophyll\",\n  \"density\",\n  \"freesurface-blue\",\n  \"freesurface-red\",\n];\n\nexport const INITIAL_BOOKMARK = {\n  fractalSetId: FRACTAL_SET_ID_MANDELBROT,\n  juliaConstant: { x: 0, y: 0 },\n  colourMapId: 0,\n  regionBottomLeft: { x: -0.22, y: -0.7 },\n  regionTopRight: { x: -0.21, y: -0.69 },\n  maxIterations: INITIAL_ITERATIONS,\n};\n\nexport const HOME_BOOKMARK = {\n  fractalSetId: FRACTAL_SET_ID_MANDELBROT,\n  juliaConstant: { x: 0, y: 0 },\n  colourMapId: 0,\n  regionBottomLeft: { x: -2.25, y: -1.5 },\n  regionTopRight: { x: 0.75, y: 1.5 },\n  maxIterations: INITIAL_ITERATIONS,\n};\n","import * as C from \"./constants\";\n\nconst THUMBNAIL_SIZE = 64;\n\nexport const configureUI = ({\n  isWebGL2,\n  renderThumbnail,\n  addBookmark,\n  updateBookmark,\n  deleteBookmark,\n  switchToBookmark,\n  fractalSets,\n  colourMaps,\n  onModalOpen,\n  onModalClose,\n}) => {\n  const drawThumbnail = (pixels, canvas, size) => {\n    canvas.width = size;\n    canvas.height = size;\n    const canvasCtx2d = canvas.getContext(\"2d\");\n\n    const imageData = new ImageData(pixels, size, size);\n    canvasCtx2d.putImageData(imageData, 0, 0);\n\n    // Seems we need to flip the image vertically.\n    // https://stackoverflow.com/a/41970080\n    canvasCtx2d.scale(1, -1);\n    canvasCtx2d.translate(0, -size);\n    canvasCtx2d.drawImage(canvas, 0, 0);\n  };\n\n  const presentBookmarkModal = (bookmark) => {\n    console.log(\"[presentBookmarkModal]\", \"bookmark:\", bookmark);\n    const bookmarkModal = $(\"#bookmarkModal\")\n      .on(\"show.bs.modal\", onModalOpen)\n      .on(\"hide.bs.modal\", onModalClose);\n    const hasId = Number.isInteger(bookmark.id);\n    const title = hasId ? \"Edit Bookmark\" : \"Create Bookmark\";\n    $(\".modal-title\", bookmarkModal).text(title);\n    $('input[type=\"submit\"]', bookmarkModal)\n      .off(\"click\")\n      .on(\"click\", (e) => {\n        e.preventDefault();\n        bookmark.name = $(\"#name\", bookmarkModal).val();\n        hasId ? updateBookmark(bookmark) : addBookmark(bookmark);\n        bookmarkModal.modal(\"hide\");\n      });\n    const thumbnailCanvas = $(\"#thumbnail-canvas\", bookmarkModal).get(0);\n    const pixels = renderThumbnail(THUMBNAIL_SIZE, bookmark);\n    drawThumbnail(pixels, thumbnailCanvas, THUMBNAIL_SIZE);\n    $(\"#name\", bookmarkModal).val(bookmark.name).focus();\n    $(\".fractal-set\", bookmarkModal).text(fractalSets.get(bookmark.fractalSetId).name);\n    const colourMapSelect = $(\"#colour-map-select\", bookmarkModal).empty();\n    for (const [colourMapId, colourMap] of colourMaps) {\n      const selected = colourMapId === bookmark.colourMapId ? \"selected\" : \"\";\n      colourMapSelect.append(\n        `<option value=\"${colourMapId}\" ${selected}>${colourMap.name}</option>`\n      );\n    }\n    colourMapSelect.on(\"change\", (e) => {\n      bookmark.colourMapId = Number(e.target.value);\n      const pixels = renderThumbnail(THUMBNAIL_SIZE, bookmark);\n      drawThumbnail(pixels, thumbnailCanvas, THUMBNAIL_SIZE);\n    });\n    const maxIterations = $(\"#max-iterations\", bookmarkModal);\n    maxIterations.text(bookmark.maxIterations);\n    const maxIterationsRange = $(\"#max-iterations-range\", bookmarkModal);\n    if (isWebGL2()) {\n      maxIterationsRange\n        .attr(\"min\", C.MIN_ITERATIONS)\n        .attr(\"max\", C.MAX_ITERATIONS_MANUAL)\n        .attr(\"step\", C.DELTA_ITERATIONS)\n        .val(bookmark.maxIterations);\n      maxIterationsRange.on(\"input\", (e) => {\n        bookmark.maxIterations = Number(e.target.value);\n        maxIterations.text(bookmark.maxIterations);\n        const pixels = renderThumbnail(THUMBNAIL_SIZE, bookmark);\n        drawThumbnail(pixels, thumbnailCanvas, THUMBNAIL_SIZE);\n      });\n    } else {\n      maxIterationsRange.hide();\n    }\n    $(\".region-bottom-left\", bookmarkModal).text(\n      `(${bookmark.regionBottomLeft.x}, ${bookmark.regionBottomLeft.y})`\n    );\n    $(\".region-top-right\", bookmarkModal).text(\n      `(${bookmark.regionTopRight.x}, ${bookmark.regionTopRight.y})`\n    );\n    const juliaConstantP = $(\".julia-constant\", bookmarkModal);\n    const juliaConstantDiv = juliaConstantP.closest(\"div\");\n    if (bookmark.fractalSetId === C.FRACTAL_SET_ID_JULIA) {\n      juliaConstantP.text(`(${bookmark.juliaConstant.x}, ${bookmark.juliaConstant.y})`);\n      juliaConstantDiv.show();\n    } else {\n      juliaConstantDiv.hide();\n    }\n    bookmarkModal.modal();\n  };\n\n  const presentManageBookmarksModal = (bookmarks) => {\n    console.log(\"[presentManageBookmarksModal]\", \"bookmarks:\", bookmarks);\n    const manageBookmarksModal = $(\"#manageBookmarksModal\")\n      .on(\"show.bs.modal\", onModalOpen)\n      .on(\"hide.bs.modal\", onModalClose);\n    const tbody = $(\"tbody\", manageBookmarksModal).empty();\n    const invokeHandler = (handler, bookmark) => () => {\n      manageBookmarksModal.modal(\"hide\");\n      handler(bookmark);\n    };\n    const onSwitchTo = (bookmark) => switchToBookmark(bookmark);\n    const onEdit = (bookmark) => {\n      const bookmarkClone = { ...bookmark };\n      presentBookmarkModal(bookmarkClone);\n    };\n    const onDelete = (bookmark) => {\n      deleteBookmark(bookmark);\n    };\n    const bookmarkRowTemplate = document.getElementById(\"bookmark-row-template\");\n    bookmarks.forEach((bookmark) => {\n      const tr = document.importNode(bookmarkRowTemplate.content, true);\n      const name = tr.querySelector(\":nth-child(2)\");\n      const editButton = tr.querySelector(\":nth-child(3) i\");\n      const deleteButton = tr.querySelector(\":nth-child(4) i\");\n      const thumbnailCanvas = tr.querySelector(\":nth-child(1) canvas\");\n      const pixels = renderThumbnail(THUMBNAIL_SIZE, bookmark);\n      drawThumbnail(pixels, thumbnailCanvas, THUMBNAIL_SIZE);\n      name.innerText = bookmark.name;\n      thumbnailCanvas.addEventListener(\"click\", invokeHandler(onSwitchTo, bookmark));\n      editButton.addEventListener(\"click\", invokeHandler(onEdit, bookmark));\n      deleteButton.addEventListener(\"click\", invokeHandler(onDelete, bookmark));\n      tbody.append(tr);\n    });\n    manageBookmarksModal.modal();\n  };\n\n  return {\n    presentBookmarkModal,\n    presentManageBookmarksModal,\n  };\n};\n","export const clamp = (min, max, value) => Math.max(min, Math.min(max, value));\n\nexport const randomFloat = (min, max) => {\n  return Math.random() * (max - min) + min;\n};\n\nexport const randomInt = (min, max) => {\n  return Math.trunc(randomFloat(min, max));\n};\n\nexport const randomElement = (elements) => {\n  const randomIndex = randomInt(0, elements.length);\n  return elements[randomIndex];\n};\n\nexport const randomPanSpeed = () => randomFloat(-0.1, 0.1);\n\nexport const randomZoomSpeed = () => randomFloat(0.01, 0.1);\n","import colormap from \"colormap\";\nimport * as glm from \"gl-matrix\";\nimport PromiseWorker from \"promise-worker\";\nimport { configureUI } from \"./ui\";\nimport { Region } from \"./region\";\nimport * as C from \"./constants\";\nimport * as U from \"./utils\";\n\nimport vertexShaderSourceWebGL1 from \"../shaders/webgl1/shader.vert.glsl\";\nimport mandelbrotShaderSourceWebGL1 from \"../shaders/webgl1/mandelbrot.frag.glsl\";\nimport juliaShaderSourceWebGL1 from \"../shaders/webgl1/julia.frag.glsl\";\n\nimport vertexShaderSourceWebGL2 from \"../shaders/webgl2/shader.vert.glsl\";\nimport mandelbrotShaderSourceWebGL2 from \"../shaders/webgl2/mandelbrot.frag.glsl\";\nimport juliaShaderSourceWebGL2 from \"../shaders/webgl2/julia.frag.glsl\";\n\nconst worker = new Worker(new URL(\"./web-worker.js\", import.meta.url));\nconst promiseWorker = new PromiseWorker(worker);\n\nlet canvas;\nlet gl;\n\nconst createColourMapTexture = (colourMap, textureUnit) => {\n  try {\n    const texture = gl.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + textureUnit);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const pixels = new Uint8Array(colourMap.map((value) => value * 255));\n    const level = 0;\n    const width = colourMap.length / 4;\n    const height = 1;\n    const border = 0;\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      level,\n      gl.RGBA,\n      width,\n      height,\n      border,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      pixels\n    );\n  } catch (error) {\n    alert(`[createColourMapTexture] ${error.message}`);\n  }\n};\n\nconst loadColourMap = (name, textureUnit) => {\n  const colourMap = colormap({\n    colormap: name,\n    nshades: 256,\n    format: \"float\",\n  }).flat();\n  createColourMapTexture(colourMap, textureUnit);\n  return {\n    name,\n    colourMap,\n    textureUnit,\n  };\n};\n\nconst loadColourMaps = () => {\n  C.COLOUR_MAP_NAMES.forEach((colourMapName, index) => {\n    colourMaps.set(index, loadColourMap(colourMapName, index));\n  });\n};\n\nconst fractalSets = new Map();\nconst colourMaps = new Map();\n\nlet currentMaxIterations = C.INITIAL_ITERATIONS;\nlet currentFractalSetId = undefined;\nlet currentFractalSet = undefined;\nlet currentJuliaConstant = undefined;\nlet currentColourMapId = undefined;\nlet currentColourMap = undefined;\nconst region = new Region();\nlet panSpeedX = 0;\nlet panSpeedY = 0;\nlet zoomSpeed = 0;\nlet panning = false;\nlet lastMousePt;\nlet bookmarkMode = false;\nlet bookmarks = new Map();\nlet nextBookmarkId = 0;\nlet modalOpen = false;\n\nconst onModalOpen = () => {\n  modalOpen = true;\n};\n\nconst onModalClose = () => {\n  modalOpen = false;\n};\n\nconst loadBookmarks = (bookmarks) => {\n  const entries = JSON.parse(localStorage.bookmarks || \"[]\");\n  for (const [id, bookmark] of entries) {\n    const { thumbnail: _thumbnail, ...bookmarkWithoutThumbnail } = bookmark;\n    bookmarks.set(id, bookmarkWithoutThumbnail);\n  }\n};\n\nconst saveBookmarks = (bookmarks) => {\n  localStorage.bookmarks = JSON.stringify(Array.from(bookmarks.entries()));\n};\n\nconst addBookmark = (bookmark) => {\n  bookmark.id = nextBookmarkId++;\n  bookmarks.set(bookmark.id, bookmark);\n  saveBookmarks(bookmarks);\n};\n\nconst updateBookmark = (bookmark) => {\n  bookmarks.set(bookmark.id, bookmark);\n  saveBookmarks(bookmarks);\n};\n\nconst deleteBookmark = (bookmark) => {\n  bookmarks.delete(bookmark.id);\n  saveBookmarks(bookmarks);\n};\n\nconst createBookmark = (name) => ({\n  name: name || `Bookmark${nextBookmarkId}`,\n  fractalSetId: currentFractalSetId,\n  juliaConstant: { ...currentJuliaConstant },\n  colourMapId: currentColourMapId,\n  regionBottomLeft: { ...region.bottomLeft },\n  regionTopRight: { ...region.topRight },\n  maxIterations: currentMaxIterations,\n});\n\n// Implies all configuration values are being changed.\nconst switchToBookmark = (bookmark) => {\n  makeConfigurationChanges(bookmark);\n};\n\n// https://webglfundamentals.org/webgl/lessons/webgl-render-to-texture.html\n// https://stackoverflow.com/a/13640310\nconst renderThumbnail = (size, configuration) => {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n\n  gl.texImage2D(\n    gl.TEXTURE_2D, // target\n    0, // level\n    gl.RGBA, // internalFormat\n    size, // width\n    size, // height\n    0, // border\n    gl.RGBA, // format\n    gl.UNSIGNED_BYTE, // type\n    null // pixels\n  );\n\n  const fb = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER, // target\n    gl.COLOR_ATTACHMENT0, // attachment\n    gl.TEXTURE_2D, // texture target\n    texture, // texture\n    0 // level\n  );\n\n  const savedConfiguration = createBookmark(\"saved-configuration\");\n  switchToBookmark(configuration);\n  setCanvasAndViewportSize(size, size);\n\n  render();\n\n  const pixels = new Uint8ClampedArray(size * size * 4);\n  gl.readPixels(0, 0, size, size, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n\n  switchToBookmark(savedConfiguration);\n  setCanvasAndViewportSize();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  gl.deleteFramebuffer(fb);\n\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  gl.deleteTexture(texture);\n\n  return pixels;\n};\n\nconst initialiseWebGL = (canvas) => {\n  const tryContextType = (contextType) => {\n    try {\n      gl = canvas.getContext(contextType);\n      if (!gl) {\n        alert(`Failed to initialise WebGL (contextType: ${contextType})`);\n      }\n    } catch (error) {\n      alert(`Exception trying to initialise WebGL (contextType: ${contextType})\\n${error.message}`);\n    }\n\n    return Boolean(gl);\n  };\n\n  if (!tryContextType(\"webgl2\")) {\n    tryContextType(\"webgl\");\n  }\n};\n\nconst isWebGL2 = () => gl instanceof WebGL2RenderingContext;\n\nconst ui = configureUI({\n  isWebGL2,\n  renderThumbnail,\n  addBookmark,\n  updateBookmark,\n  deleteBookmark,\n  switchToBookmark: (bookmark) => {\n    switchToBookmark(bookmark);\n    setCanvasAndViewportSize();\n    render();\n  },\n  fractalSets,\n  colourMaps,\n  onModalOpen,\n  onModalClose,\n});\n\nconst makeShader = (gl, source, shaderType) => {\n  const shader = gl.createShader(shaderType);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const errorMessage = gl.getShaderInfoLog(shader);\n    console.error(`Failed to compile shader: ${errorMessage}`);\n    alert(`[makeShader] ${errorMessage}`);\n    return null;\n  }\n  return shader;\n};\n\nconst initialiseShadersHelper = (name, vertexShaderSource, fragmentShaderSource) => {\n  const vertexShader = makeShader(gl, vertexShaderSource, gl.VERTEX_SHADER);\n  const fragmentShader = makeShader(gl, fragmentShaderSource, gl.FRAGMENT_SHADER);\n  const program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    const errorMessage = gl.getProgramInfoLog(program);\n    console.error(`Could not initialise shaders: ${errorMessage}`);\n    return;\n  }\n\n  const aVertexPosition = gl.getAttribLocation(program, \"aVertexPosition\");\n  gl.enableVertexAttribArray(aVertexPosition);\n\n  const aRegionPosition = gl.getAttribLocation(program, \"aRegionPosition\");\n  gl.enableVertexAttribArray(aRegionPosition);\n\n  const regionPositionBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, regionPositionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, 4 * 2 * 4, gl.DYNAMIC_DRAW);\n\n  const uModelViewMatrix = gl.getUniformLocation(program, \"uModelViewMatrix\");\n  const uColourMap = gl.getUniformLocation(program, \"uColourMap\");\n  const uJuliaConstant = gl.getUniformLocation(program, \"uJuliaConstant\");\n\n  const maybeMaxIterationsUniform = isWebGL2()\n    ? { uMaxIterations: gl.getUniformLocation(program, \"uMaxIterations\") }\n    : undefined;\n\n  // prettier-ignore\n  const vertexPositionBufferData = new Float32Array([\n    1.0, 1.0, // top right\n    -1.0, 1.0, // top left\n    1.0, -1.0, // bottom right\n    -1.0, -1.0 // bottom left\n  ]);\n  const vertexPositionBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, vertexPositionBufferData, gl.STATIC_DRAW);\n  gl.vertexAttribPointer(aVertexPosition, 2, gl.FLOAT, false, 0, 0);\n\n  return {\n    name,\n    program,\n    aVertexPosition,\n    aRegionPosition,\n    uModelViewMatrix,\n    ...maybeMaxIterationsUniform,\n    uColourMap,\n    uJuliaConstant,\n    vertexPositionBuffer,\n    regionPositionBuffer,\n  };\n};\n\nconst initialiseShaders = () => {\n  const vertexShaderSource = isWebGL2() ? vertexShaderSourceWebGL2 : vertexShaderSourceWebGL1;\n  const mandelbrotShaderSource = isWebGL2()\n    ? mandelbrotShaderSourceWebGL2\n    : mandelbrotShaderSourceWebGL1;\n  const juliaShaderSource = isWebGL2() ? juliaShaderSourceWebGL2 : juliaShaderSourceWebGL1;\n  const mandelbrotSet = initialiseShadersHelper(\n    \"Mandelbrot\",\n    vertexShaderSource,\n    mandelbrotShaderSource\n  );\n  const juliaSet = initialiseShadersHelper(\"Julia\", vertexShaderSource, juliaShaderSource);\n  fractalSets.set(C.FRACTAL_SET_ID_MANDELBROT, mandelbrotSet);\n  fractalSets.set(C.FRACTAL_SET_ID_JULIA, juliaSet);\n};\n\n// Some or all configuration values are being changed.\nconst makeConfigurationChanges = ({\n  fractalSetId,\n  juliaConstant,\n  colourMapId,\n  maxIterations,\n  regionBottomLeft,\n  regionTopRight,\n}) => {\n  if (regionBottomLeft && regionTopRight) {\n    performRegionUpdate(() => {\n      region.set(regionBottomLeft, regionTopRight);\n    });\n  }\n\n  if (Number.isInteger(fractalSetId)) {\n    currentFractalSetId = fractalSetId;\n    currentFractalSet = fractalSets.get(fractalSetId);\n  }\n\n  if (juliaConstant) {\n    currentJuliaConstant = juliaConstant;\n  }\n\n  if (Number.isInteger(colourMapId)) {\n    currentColourMapId = colourMapId;\n    currentColourMap = colourMaps.get(colourMapId);\n  }\n\n  if (isWebGL2()) {\n    if (Number.isInteger(maxIterations)) {\n      currentMaxIterations = maxIterations;\n    }\n  }\n\n  gl.useProgram(currentFractalSet.program);\n\n  const modelViewMatrix = glm.mat4.fromScaling(glm.mat4.create(), [1, -1, 1]);\n  gl.uniformMatrix4fv(currentFractalSet.uModelViewMatrix, false, modelViewMatrix);\n\n  gl.uniform1i(currentFractalSet.uColourMap, currentColourMap.textureUnit);\n\n  gl.uniform2f(currentFractalSet.uJuliaConstant, currentJuliaConstant.x, currentJuliaConstant.y);\n\n  if (isWebGL2()) {\n    gl.uniform1i(currentFractalSet.uMaxIterations, currentMaxIterations);\n  }\n};\n\nconst updateRegionPositionBuffer = () => {\n  if (!currentFractalSet) return;\n\n  const { regionPositionBuffer, aRegionPosition } = currentFractalSet;\n\n  // prettier-ignore\n  const regionPositionBufferData = new Float32Array([\n    region.topRight.x, region.topRight.y,\n    region.topLeft.x, region.topLeft.y,\n    region.bottomRight.x, region.bottomRight.y,\n    region.bottomLeft.x, region.bottomLeft.y,\n  ]);\n  gl.bindBuffer(gl.ARRAY_BUFFER, regionPositionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, regionPositionBufferData, gl.DYNAMIC_DRAW);\n  gl.vertexAttribPointer(aRegionPosition, 2, gl.FLOAT, false, 0, 0);\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n};\n\nconst performRegionUpdate = (thunk) => {\n  thunk();\n  updateRegionPositionBuffer();\n};\n\nconst render = () => {\n  console.log(\"[render]\");\n  try {\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  } catch (error) {\n    alert(`[render] ${error.message}`);\n  }\n};\n\nconst displayConfiguration = async (configuration) => {\n  switchToBookmark(configuration);\n  setCanvasAndViewportSize();\n\n  panSpeedX = configuration.panSpeedX ?? U.randomPanSpeed();\n  panSpeedY = configuration.panSpeedY ?? U.randomPanSpeed();\n  zoomSpeed = configuration.zoomSpeed ?? U.randomZoomSpeed();\n\n  const message = {\n    type: \"chooseConfiguration\",\n    fractalSetIds: Array.from(fractalSets.keys()),\n    colourMapIds: Array.from(colourMaps.keys()),\n  };\n  const newConfiguration = await promiseWorker.postMessage(message);\n  setTimeout(displayConfiguration, 10000, newConfiguration);\n};\n\nexport const startGraphics = async (manualMode) => {\n  // Turning off the service worker for the moment. Not quite happy with it yet.\n  // if ('serviceWorker' in navigator) {\n  //   try {\n  //     const registration = await navigator.serviceWorker.register('service-worker.js')\n  //     console.log('Successfully registered service worker', registration)\n  //   } catch (error) {\n  //     console.error(`Failed to register service worker: ${error.message}`)\n  //   }\n  // }\n\n  canvas = document.getElementById(\"canvas\");\n\n  try {\n    initialiseWebGL(canvas);\n    initialiseShaders();\n    loadColourMaps();\n  } catch (error) {\n    alert(`[startGraphics] ${error.message}`);\n  }\n\n  window.addEventListener(\"resize\", onWindowResize);\n\n  if (manualMode) {\n    canvas.addEventListener(\"mousedown\", onCanvasMouseDownHandler);\n    canvas.addEventListener(\"mousemove\", onCanvasMouseMoveHandler);\n    canvas.addEventListener(\"mouseup\", onCanvasMouseUpHandler);\n    canvas.addEventListener(\"mouseleave\", onCanvasMouseLeaveHandler);\n    document.addEventListener(\"keydown\", onDocumentKeyDownHandler);\n    loadBookmarks(bookmarks);\n    nextBookmarkId = bookmarks.size ? Math.max(...bookmarks.keys()) + 1 : 0;\n    switchToBookmark(C.INITIAL_BOOKMARK);\n    setCanvasAndViewportSize();\n    render();\n  } else {\n    displayConfiguration(C.INITIAL_BOOKMARK);\n    const animate = () => {\n      performRegionUpdate(() => {\n        region.panX(panSpeedX);\n        region.panY(panSpeedY);\n        region.zoom(zoomSpeed);\n      });\n      render();\n      requestAnimationFrame(animate);\n    };\n    animate();\n  }\n};\n\nconst setCanvasAndViewportSize = (explicitWidth, explicitHeight) => {\n  const width = explicitWidth ?? canvas.clientWidth;\n  const height = explicitHeight ?? canvas.clientHeight;\n\n  if (!explicitWidth && !explicitHeight) {\n    canvas.width = width;\n    canvas.height = height;\n  }\n\n  gl.viewport(0, 0, width, height);\n\n  performRegionUpdate(() => {\n    region.adjustAspectRatio(width, height);\n  });\n};\n\nconst onWindowResize = () => {\n  setCanvasAndViewportSize();\n  render();\n};\n\nconst onCanvasMouseDownHandler = (e) => {\n  const mouseX = e.offsetX;\n  const mouseY = e.offsetY;\n  const { regionMouseX, regionMouseY } = region.mouseToRegion(canvas, mouseX, mouseY);\n\n  if (e.shiftKey) {\n    performRegionUpdate(() => {\n      region.recentre(regionMouseX, regionMouseY);\n    });\n    return render();\n  }\n\n  if (e.altKey) {\n    switch (currentFractalSetId) {\n      case C.FRACTAL_SET_ID_MANDELBROT: {\n        const juliaConstant = {\n          x: regionMouseX,\n          y: regionMouseY,\n        };\n        makeConfigurationChanges({\n          fractalSetId: C.FRACTAL_SET_ID_JULIA,\n          juliaConstant,\n        });\n        render();\n        return;\n      }\n\n      case C.FRACTAL_SET_ID_JULIA:\n        makeConfigurationChanges({ fractalSetId: C.FRACTAL_SET_ID_MANDELBROT });\n        render();\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  panning = true;\n  lastMousePt = { mouseX, mouseY };\n};\n\nconst onCanvasMouseMoveHandler = (e) => {\n  if (!panning) return;\n\n  const mouseX = e.offsetX;\n  const mouseY = e.offsetY;\n\n  performRegionUpdate(() => {\n    const mouseDeltaX = mouseX - lastMousePt.mouseX;\n    const mouseDeltaY = mouseY - lastMousePt.mouseY;\n    region.drag(canvas, mouseDeltaX, mouseDeltaY);\n  });\n\n  render();\n\n  lastMousePt = { mouseX, mouseY };\n};\n\nconst onCanvasMouseUpHandler = () => {\n  panning = false;\n};\n\nconst onCanvasMouseLeaveHandler = () => {\n  panning = false;\n};\n\nconst onDocumentKeyDownHandler = (e) => {\n  if (modalOpen) return;\n\n  if (bookmarkMode) {\n    return handleBookmarkKeys(e);\n  }\n\n  if (!bookmarkMode && e.key === \"b\" && e.ctrlKey) {\n    bookmarkMode = true;\n    return;\n  }\n\n  if (e.key === \"+\") {\n    performRegionUpdate(() => {\n      region.zoom(50);\n    });\n    render();\n    return;\n  }\n\n  if (e.key === \"-\") {\n    performRegionUpdate(() => {\n      region.zoom(-100);\n    });\n    render();\n    return;\n  }\n\n  if (e.key === \"h\" && e.ctrlKey) {\n    switchToBookmark(C.HOME_BOOKMARK);\n    setCanvasAndViewportSize();\n    render();\n    return;\n  }\n\n  if ((e.key === \"c\" || e.key === \"C\") && e.ctrlKey) {\n    const keys = Array.from(colourMaps.keys());\n    const maxIndex = keys.length;\n    const oldIndex = keys.indexOf(currentColourMapId);\n    const newIndex = (oldIndex + (e.shiftKey ? maxIndex - 1 : 1)) % maxIndex;\n    const newColourMapId = keys[newIndex];\n    makeConfigurationChanges({ colourMapId: newColourMapId });\n    render();\n    return;\n  }\n\n  if (isWebGL2()) {\n    if (e.key === \"i\" || e.key === \"I\") {\n      const delta = C.DELTA_ITERATIONS * (e.shiftKey ? -1 : +1);\n      currentMaxIterations = U.clamp(\n        C.MIN_ITERATIONS,\n        C.MAX_ITERATIONS_MANUAL,\n        currentMaxIterations + delta\n      );\n      makeConfigurationChanges({ maxIterations: currentMaxIterations });\n      render();\n      return;\n    }\n  }\n};\n\nconst handleBookmarkKeys = (e) => {\n  bookmarkMode = false;\n\n  if (e.key === \"n\") {\n    const bookmark = createBookmark();\n    return ui.presentBookmarkModal(bookmark);\n  }\n\n  if (e.key === \"l\") {\n    return ui.presentManageBookmarksModal(bookmarks);\n  }\n};\n","export class Region {\n  _bottomLeft = { x: 0, y: 0 };\n  _topRight = { x: 0, y: 0 };\n\n  get top() {\n    return this._topRight.y;\n  }\n\n  get bottom() {\n    return this._bottomLeft.y;\n  }\n\n  get left() {\n    return this._bottomLeft.x;\n  }\n\n  get right() {\n    return this._topRight.x;\n  }\n\n  get topLeft() {\n    return { x: this.left, y: this.top };\n  }\n\n  get topRight() {\n    return { ...this._topRight };\n  }\n\n  get bottomLeft() {\n    return { ...this._bottomLeft };\n  }\n\n  get bottomRight() {\n    return { x: this.right, y: this.bottom };\n  }\n\n  get width() {\n    return this._topRight.x - this._bottomLeft.x;\n  }\n\n  get height() {\n    return this.topRight.y - this._bottomLeft.y;\n  }\n\n  get centreX() {\n    return this.left + this.width / 2;\n  }\n\n  get centreY() {\n    return this.bottom + this.height / 2;\n  }\n\n  set(bottomLeft, topRight) {\n    this._bottomLeft.x = bottomLeft.x;\n    this._bottomLeft.y = bottomLeft.y;\n    this._topRight.x = topRight.x;\n    this._topRight.y = topRight.y;\n  }\n\n  adjustAspectRatio(canvasWidth, canvasHeight) {\n    if (canvasWidth >= canvasHeight) {\n      const aspectRatio = canvasWidth / canvasHeight;\n      const widthDelta = aspectRatio * this.height - this.width;\n      const widthDeltaHalf = widthDelta / 2;\n      this._bottomLeft.x -= widthDeltaHalf;\n      this._topRight.x += widthDeltaHalf;\n    }\n\n    if (canvasWidth < canvasHeight) {\n      const aspectRatio = canvasHeight / canvasWidth;\n      const heightDelta = aspectRatio * this.width - this.height;\n      const heightDeltaHalf = heightDelta / 2;\n      this._bottomLeft.y -= heightDeltaHalf;\n      this._topRight.y += heightDeltaHalf;\n    }\n  }\n\n  mouseToRegion(canvas, mouseX, mouseY) {\n    const widthRatio = this.width / canvas.width;\n    const heightRatio = this.height / canvas.height;\n    const offsetRatioX = mouseX * widthRatio;\n    const offsetRatioY = mouseY * heightRatio;\n    return {\n      regionMouseX: this.left + offsetRatioX,\n      regionMouseY: this.bottom + offsetRatioY,\n    };\n  }\n\n  drag(canvas, mouseDeltaX, mouseDeltaY) {\n    const widthRatio = this.width / canvas.width;\n    const heightRatio = this.height / canvas.height;\n    const regionDeltaX = mouseDeltaX * widthRatio;\n    const regionDeltaY = mouseDeltaY * heightRatio;\n    this._bottomLeft.x -= regionDeltaX;\n    this._bottomLeft.y -= regionDeltaY;\n    this._topRight.x -= regionDeltaX;\n    this._topRight.y -= regionDeltaY;\n  }\n\n  recentre(regionMouseX, regionMouseY) {\n    const translationX = regionMouseX - this.centreX;\n    const translationY = regionMouseY - this.centreY;\n    this._bottomLeft.x += translationX;\n    this._bottomLeft.y += translationY;\n    this._topRight.x += translationX;\n    this._topRight.y += translationY;\n  }\n\n  panX(percent) {\n    const widthDelta = (this.width / 100) * percent;\n    this._bottomLeft.x -= widthDelta;\n    this._topRight.x -= widthDelta;\n  }\n\n  panY(percent) {\n    const heightDelta = (this.height / 100) * percent;\n    this._bottomLeft.y -= heightDelta;\n    this._topRight.y -= heightDelta;\n  }\n\n  zoom(percent) {\n    const widthDelta = (this.width / 100) * percent;\n    const widthDeltaHalf = widthDelta / 2;\n    const heightDelta = (this.height / 100) * percent;\n    const heightDeltaHalf = heightDelta / 2;\n    this._bottomLeft.x += widthDeltaHalf;\n    this._bottomLeft.y += heightDeltaHalf;\n    this._topRight.x -= widthDeltaHalf;\n    this._topRight.y -= heightDeltaHalf;\n  }\n}\n","import { startGraphics } from \"./graphics\";\n\nconst url = new URL(document.location);\nconst manualMode = url.searchParams.get(\"mode\") === \"manual\";\n\nstartGraphics(manualMode);\n"],"names":["module","exports","colorScale","lerp","rgb2float","rgba","rgb2hex","dig","hex","i","toString","substr","length","rgbaStr","join","spec","indicies","fromrgba","torgba","nsteps","cmap","colormap","format","nshades","alpha","toLowerCase","Error","Array","isArray","slice","map","c","Math","round","index","min","max","steps","rgb","colors","j","amt","push","concat","v0","v1","t","messageIds","onMessage","self","e","message","data","messageId","error","result","callback","_callbacks","PromiseWorker","worker","this","_worker","addEventListener","prototype","postMessage","userMessage","messageToSend","Promise","resolve","reject","controller","channel","MessageChannel","port1","onmessage","port2","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","u","chunkId","g","globalThis","Function","window","obj","prop","hasOwnProperty","call","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","replace","p","b","baseURI","href","ARRAY_TYPE","Float32Array","random","PI","hypot","y","arguments","sqrt","COLOUR_MAP_NAMES","INITIAL_BOOKMARK","fractalSetId","juliaConstant","x","colourMapId","regionBottomLeft","regionTopRight","maxIterations","HOME_BOOKMARK","THUMBNAIL_SIZE","randomFloat","randomPanSpeed","Worker","URL","promiseWorker","canvas","gl","fractalSets","Map","colourMaps","currentFractalSetId","currentFractalSet","currentJuliaConstant","currentColourMapId","currentColourMap","currentMaxIterations","region","_bottomLeft","_topRight","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","width","height","centreX","centreY","set","adjustAspectRatio","canvasWidth","canvasHeight","widthDeltaHalf","heightDeltaHalf","mouseToRegion","mouseX","mouseY","offsetRatioX","offsetRatioY","regionMouseX","regionMouseY","drag","mouseDeltaX","mouseDeltaY","regionDeltaX","regionDeltaY","recentre","translationX","translationY","panX","percent","widthDelta","panY","heightDelta","zoom","lastMousePt","panSpeedX","panSpeedY","zoomSpeed","panning","bookmarkMode","bookmarks","nextBookmarkId","modalOpen","saveBookmarks","localStorage","JSON","stringify","from","entries","createBookmark","name","switchToBookmark","bookmark","makeConfigurationChanges","isWebGL2","WebGL2RenderingContext","ui","renderThumbnail","addBookmark","updateBookmark","deleteBookmark","onModalOpen","onModalClose","drawThumbnail","pixels","size","canvasCtx2d","getContext","imageData","ImageData","putImageData","scale","translate","drawImage","presentBookmarkModal","console","log","bookmarkModal","$","on","hasId","Number","isInteger","id","title","text","off","preventDefault","val","modal","thumbnailCanvas","focus","colourMapSelect","empty","colourMap","selected","append","target","value","maxIterationsRange","attr","hide","juliaConstantP","juliaConstantDiv","closest","show","presentManageBookmarksModal","manageBookmarksModal","tbody","invokeHandler","handler","onSwitchTo","onEdit","bookmarkClone","onDelete","bookmarkRowTemplate","getElementById","forEach","tr","importNode","content","querySelector","editButton","deleteButton","innerText","configureUI","configuration","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","fb","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","savedConfiguration","setCanvasAndViewportSize","render","Uint8ClampedArray","readPixels","deleteFramebuffer","deleteTexture","delete","makeShader","source","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorMessage","getShaderInfoLog","alert","initialiseShadersHelper","vertexShaderSource","fragmentShaderSource","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","aVertexPosition","getAttribLocation","enableVertexAttribArray","aRegionPosition","regionPositionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","uModelViewMatrix","getUniformLocation","uColourMap","uJuliaConstant","maybeMaxIterationsUniform","uMaxIterations","vertexPositionBufferData","vertexPositionBuffer","STATIC_DRAW","vertexAttribPointer","FLOAT","performRegionUpdate","useProgram","modelViewMatrix","out","v","uniformMatrix4fv","uniform1i","textureUnit","uniform2f","thunk","regionPositionBufferData","updateRegionPositionBuffer","drawArrays","TRIANGLE_STRIP","displayConfiguration","async","type","fractalSetIds","keys","colourMapIds","newConfiguration","setTimeout","explicitWidth","explicitHeight","clientWidth","clientHeight","viewport","onWindowResize","onCanvasMouseDownHandler","offsetX","offsetY","shiftKey","altKey","onCanvasMouseMoveHandler","onCanvasMouseUpHandler","onCanvasMouseLeaveHandler","onDocumentKeyDownHandler","handleBookmarkKeys","ctrlKey","maxIndex","oldIndex","indexOf","newColourMapId","delta","manualMode","tryContextType","contextType","Boolean","initialiseWebGL","mandelbrotShaderSource","juliaShaderSource","mandelbrotSet","juliaSet","initialiseShaders","colourMapName","flat","activeTexture","TEXTURE0","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","Uint8Array","level","border","createColourMapTexture","loadColourMap","parse","thumbnail","_thumbnail","bookmarkWithoutThumbnail","loadBookmarks","animate","requestAnimationFrame","startGraphics","searchParams"],"sourceRoot":""}